{% extends "base.html" %}
{% load i18n %}
{% load hk_generic %}


{% block title %}
{% trans 'User Profile' %} - {{ app_name|title }}
{% endblock %}

{% block content %}
	<h1>User Profile <span>- {{ user }}</span></h1>

	<table class="table table-bordered table-striped user-data">
		<tbody>
			<tr>
				<th>{% trans 'User name' %}</th>
				<td>{{ user.username}}</td>
			</tr>
			<tr>
				<th>{% trans 'Firstname' %}</th>
				<td>{{ user.first_name }}</td>
			</tr>
			<tr>
				<th>{% trans 'Lastname' %}</th>
				<td>{{ user.last_name }}</td>
			</tr>
			<tr>
				<th>{% trans 'Email' %}</th>
				<td>{{ user.email }}</td>
			</tr>
			{% if use_mockups %}
			<tr>
				<th>{% trans 'Karma' %}</th>
				<td>{{ user_profile.karma }}</td>
			</tr>
			{% endif %}
			<tr>
				<th>{% trans 'Date Joined' %}</th>
				<td>{{ user.date_joined }}</td>
			</tr>
		</tbody>
	</table>


	<h3>Favorites</h3>
	{% if favorites %}
		<ul>
		{% for fav in favorites %}
			<li>
				<a href="{% url thread mlist_fqdn=fav.list_address, threadid=fav.threadid %}"
					>{{ fav.thread.starting_email.subject }}</a> by {{ fav.thread.starting_email.sender_name }}
					({{ fav.thread|viewer_date|date:"l, j F Y H:i:s" }})
			</li>
		{% endfor %}
		</ul>
	{% else %}
		<p>No favorite yet.</p>
	{% endif %}


	<h3>Votes</h3>
	<h4>Up Votes</h4>
	{% if votes_up %}
		<ul>
		{% for vote in votes_up %}
			<li>
			{% if vote.message.content|trimString|length > 0 %}
				<a href="{% url message_index mlist_fqdn=vote.list_address, hashid=vote.messageid %}"
					>{{ vote.message.subject }}</a> by {{ vote.message.sender_name }}
					({{ vote.message|viewer_date|date:"l, j F Y H:i:s" }})
			{% else %}
				<a href="{% url message_index mlist_fqdn=vote.list_address, hashid=vote.messageid %}">Message is empty</a>
			{% endif %}
			</li>
		{% endfor %}
		</ul>
	{% else %}
		<p>No up vote yet.</p>
	{% endif %}

	<h4>Down Votes</h4>
	{% if votes_down %}
		<ul>
		{% for vote in votes_down %}
			<li>
			{% if vote.message.content|trimString|length > 0 %}
				<a href="{% url message_index mlist_fqdn=vote.list_address, hashid=vote.messageid %}"
					>{{ vote.message.subject }}</a> by {{ vote.message.sender_name }}
					({{ vote.message|viewer_date|date:"l, j F Y H:i:s" }})
			{% else %}
				<a href="{% url message_index mlist_fqdn=vote.list_address, hashid=vote.messageid %}">Message is empty</a>
			{% endif %}
			</li>
		{% endfor %}
		</ul>
	{% else %}
		<p>No down vote yet.</p>
	{% endif %}


{% endblock %}

{# vim: set noet: #}
