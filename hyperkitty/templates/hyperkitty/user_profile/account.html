{% extends "hyperkitty/user_profile/base.html" %}
{% load i18n %}
{% load hk_generic %}
{% load gravatar %}
{% load staticfiles %}


{% block user_profile_content %}

    <div class="row">

    <form method="post" action="{% url 'hk_user_profile' %}">
        {% csrf_token %}
        <div class="gravatar hidden-tn hidden-xs col-sm-4 col-sm-push-8 col-md-6 col-md-push-6 col-lg-7 col-lg-push-5">
            <a href="{{ gravatar_url }}">{% gravatar user.email 150 %}</a>
            <p><a href="{{ gravatar_url }}">{% trans "Edit on" %} {{ gravatar_shortname }}</a></p>
        </div>

        <div class="col-tn-12 col-sm-8 col-sm-pull-4 col-md-6 col-md-pull-6 col-lg-5 col-lg-pull-7">
            <table class="table user-data">
                <tbody>
                    <tr>
                        <th class="col-tn-6 col-sm-3">{% trans 'User name:' %}</th>
                        <td>
                            <div class="ellipsis-overflow">{{ user.username}}</div>
                        </td>
                    </tr>
                    {{ form.as_table }}
                    <tr class="gravatar hidden-sm hidden-md hidden-lg">
                        <td><a href="{{ gravatar_url }}">{% gravatar user.email 60 %}</a></td>
                        <td><a href="{{ gravatar_url }}">{% trans "Edit on" %} {{ gravatar_shortname }}</a></td>
                    </tr>
                    <tr>
                        <th>{% trans 'Email:' %}</th>
                        <td>
                            <div class="ellipsis-overflow">{{ user.email }}</div>
                        </td>
                    </tr>
                    <tr>
                        <th>{% trans 'Other emails:' %}</th>
                        <td>
                            <div class="ellipsis-overflow">
                                <ul class="list-unstyled">
                                {% for address in other_addresses %}
                                    <li>{{ address }}</li>
                                {% empty %}
                                    <li>{% trans "(no other email)" %}</li>
                                {% endfor %}
                                {% if postorius_installed %}
                                    <li>
                                        <i class="fa fa-link" aria-hidden="true"></i>
                                        <a href="{{ profile_url }}">
                                            {% trans "Link another address" %}
                                        </a>
                                    </li>
                                {% endif %}
                                </ul>
                            </div>
                        </td>
                    </tr>
                    {% if use_mockups %}
                    <tr>
                        <th>{% trans 'Karma:' %}</th>
                        <td>{{ user_profile.karma }}</td>
                    </tr>
                    {% endif %}
                    <tr>
                        <th>{% trans 'Joined on:' %}</th>
                        <td>{{ user.date_joined|date:"N j Y, H:i" }}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <p class="buttons col-tn-12">
            <button type="submit" class="submit btn btn-primary">{% trans "Update" %}</button>
            {% trans "or" %} <a href="#" class="cancel" onclick="document.forms[0].reset(); return false;">{% trans "cancel" %}</a>
        </p>
    </form>
    </div>

{% endblock %}
