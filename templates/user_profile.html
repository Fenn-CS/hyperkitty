{% extends "base.html" %}
{% load i18n %}
{% load poll_extras %}

{% block content %}
    <h1>User Profile <span>- {{ user }}</span></h1>

    <table class="table table-bordered table-striped mm_userData">
    	<tbody>
    		<tr>
    			<th>{% trans 'User name' %}</th>
    			<td>{{ user.username}}</td>
    		</tr>
    		<tr>
    			<th>{% trans 'Firstname' %}</th>
    			<td>{{ user.first_name }}</td>
    		</tr>
    		<tr>
    			<th>{% trans 'Lastname' %}</th>
    			<td>{{ user.last_name }}</td>
    		</tr>
		<tr>
    			<th>{% trans 'Email' %}</th>
    			<td>{{ user.email }}</td>
    		</tr>
		<tr>
    			<th>{% trans 'Karma' %}</th>
    			<td>{{ user_profile.karma }}</td>
    		</tr>
		<tr>
    			<th>{% trans 'Date Joined' %}</th>
    			<td>{{ user.date_joined }}</td>
    		</tr>
    	</tbody>
    </table>
    <h3> Up Votes : </h3>

	<ul>
	{% for vote in user_profile.votes %}
		{% if vote.vote == 1 %}
		<li>
		{% if vote.message.content|trimString|length > 0 %}
			<a href="/message/{{vote.list_address}}/{{vote.messageid}}">{{ vote.message.content|truncatechars:20 }}</a>
		{% else %}
			<a href="/message/{{vote.list_address}}/{{vote.messageid}}">Message is empty</a>
		{% endif %}
		</li>
		{% endif %}
	{% endfor %}
	</ul>

	<h3> Down Votes : </h3>

	<ul>
	{% for vote in user_profile.votes %}
		{% if vote.vote == -1 %}
		<li>
		{% if vote.message.content|trimString|length > 0 %}
			<a href="/message/{{vote.list_address}}/{{vote.messageid}}">{{ vote.message.content|truncatechars:20 }}</a>
		{% else %}
			<a href="/message/{{vote.list_address}}/{{vote.messageid}}">Message is empty</a>
		{% endif %}
		</li>
		{% endif %}
	{% endfor %}
	</ul>


{% endblock %}
